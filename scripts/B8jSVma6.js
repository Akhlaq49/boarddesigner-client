import{f as e,x as a,Y as t,g as s,B as o,aj as n,ak as r,al as l,K as u,am as i,an as p,l as y,ao as d,s as f,D as c,ap as m,ae as v,aq as b,ar as g,as as h}from"./D91FHcbo.js";const P=e({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup:(e,a)=>()=>d(r[e.name],e.layoutProps,a.slots)}),k=e({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(e,v){const b=a(),h=u(g),P=!h||h===t()?l():h,k=s(()=>{let a=y(e.name)??P?.meta.layout??"default";return a&&!(a in r)&&e.fallback&&(a=y(e.fallback)),a}),L=o();v.expose({layoutRef:L});const O=b.deferHydration();if(b.isHydrating){const e=b.hooks.hookOnce("app:error",O);n().beforeEach(e)}let x;return()=>{const a=k.value&&k.value in r,t=P?.meta.layoutTransition??i,s=x;return x=k.value,p(a&&t,{default:()=>d(m,{suspensible:!0,onResolve:()=>{c(O)}},{default:()=>d(j,{layoutProps:f(v.attrs,{ref:L}),key:k.value||void 0,name:k.value,shouldProvide:!e.name,isRenderingNewLayout:e=>e!==s&&e===k.value,hasTransition:!!t},v.slots)})}).default()}}}),j=e({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(e,a){const s=e.name;e.shouldProvide&&v(h,{isCurrent:e=>s===(e.meta.layout??"default")});const o=u(g);if(o&&o===t()){const a=l(),t={};for(const s in a){const n=s;Object.defineProperty(t,n,{enumerable:!0,get:()=>e.isRenderingNewLayout(e.name)?a[n]:o[n]})}v(g,b(t))}return()=>!s||"string"==typeof s&&!(s in r)?a.slots.default?.():d(P,{key:s,layoutProps:e.layoutProps,name:s},a.slots)}});export{k as _};
